{% extends 'user/base.html'%}

{% block title %}{{user.first_name}} (@{{user.username}}) &#8226; Instagram photos and videos &#8212; Facebook{% endblock %}
{% load static %}

{% block content %}
    <div class="content-section mx-auto">
        <h4>Profile</h4>
    </div>
    <h1 class="media-heading">
        {{user.first_name}}

        <div class='follow-section'>
        {% if user == user %}
        <div class='btn btn-outline-secondary btn-sm '><span style="color:black;">Edit Profile</span></div>
        {% elif user.username in following %}
        <div class='btn btn-outline-secondary btn-sm '><span style="color:black;">Message</span></div>
        <div class='btn btn-outline-secondary btn-sm follow-btn' style="color:black;"><img src='{% static "img/user-icon.png"%} 'style="width:80%;"></div>
        {% else %}
        <div class='btn btn-primary btn-sm follow-btn'>Follow</div> 
        {% endif%}
        </div>

    </h1>
    <span>{{user.owner_posts.count}} post </span>
    <span>{{user.followers.count}} followers </span>
    <span>{{user.user.following.count}} following </span>
    <div class="content-section mx-auto">
        <div class="media">
        <img class="rounded-circle account-img" src="{{user.user.photo.url}}">
        <div class="content-info">
            <h2 class="media-heading">{{user.username}}</h2>
            <p class="text-secondary">{{user.email}}</p>
        </div>
        </div>
    </div>



    <small class="text-muted">Only you can see what you've saved</small>
    <div class="col s12 m8 offset-m2">
        {% if posts %}
        {% for post in posts %}
        <img class="btn article-img all-comments" id='all-comments-{{post.id}}' src="{{ post.photo.url }}" style="width: 50%;">
        {% endfor %}
        
        {% else %}
        <div class='no-saved-post'>
            <img src='{%static "img/no-saved-post.png" %}'>
            <h3>Save</h3>
            <p>Save photos and videos that you want to see again. No <br> one is notified, and only you can see what you've saved.</p>
        </div>
        {% endif %}


    </div>
{% endblock %}